<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

   <extension
         id="%oda.data.source.id"
         point="org.eclipse.datatools.connectivity.oda.dataSource">
      <dataSource
            driverClass="org.eclipse.birt.data.oda.mongodb.impl.MongoDBDriver"
            defaultDisplayName="%data.source.name"
            setThreadContextClassLoader="false"
            odaVersion="3.2"
            id="%oda.data.source.id">
         <properties>
            <property
                  name="mongoURI"
                  allowsEmptyValueAsNull="true"
                  defaultDisplayName="%datasource.property.mongoDbUri"
                  type="string"
                  isEncryptable="false">
            </property>
            <property
                  allowsEmptyValueAsNull="true"
                  canInherit="true"
                  defaultDisplayName="%datasource.property.ignoreURI"
                  defaultValue="false"
                  isEncryptable="false"
                  name="ignoreURI"
                  type="choice">
               <choice
                     defaultDisplayName="yes"
                     name="true"
                     value="true">
               </choice>
               <choice
                     defaultDisplayName="no"
                     name="false"
                     value="false">
               </choice>
            </property>
            <propertyGroup
                  defaultDisplayName="%datasource.property.group.uriElements"
                  name="org.eclipse.birt.data.oda.mongodb.uriElements">
	            <property
	                  name="serverHost"
	                  allowsEmptyValueAsNull="true"
	                  defaultDisplayName="%datasource.property.serverHost"
	                  type="string"
	                  isEncryptable="false">
	            </property>
	            <property
	                  allowsEmptyValueAsNull="true"
	                  canInherit="true"
	                  defaultDisplayName="%datasource.property.serverPort"
	                  defaultValue="27017"
	                  isEncryptable="false"
	                  name="serverPort"
	                  type="string">
	            </property>
	            <property
	                  allowsEmptyValueAsNull="true"
	                  canInherit="true"
	                  defaultDisplayName="%datasource.property.databaseName"
	                  isEncryptable="false"
	                  name="databaseName"
	                  type="string">
	            </property>
	            <property
	                  allowsEmptyValueAsNull="true"
	                  canInherit="true"
	                  defaultDisplayName="%datasource.property.userName"
	                  isEncryptable="false"
	                  name="userName"
	                  type="string">
	            </property>
	            <property
	                  allowsEmptyValueAsNull="true"
	                  canInherit="true"
	                  defaultDisplayName="%datasource.property.password"
	                  isEncryptable="true"
	                  name="password"
	                  type="string">
	            </property>
            </propertyGroup>
            <propertyGroup
                  defaultDisplayName="%datasource.property.group.options"
                  name="org.eclipse.birt.data.oda.mongodb.options">
	            <property
	                  allowsEmptyValueAsNull="true"
	                  canInherit="true"
	                  defaultDisplayName="%datasource.property.socketKeepAlive"
	                  defaultValue="false"
	                  isEncryptable="false"
	                  name="socketKeepAlive"
	                  type="choice">
	               <choice
	                     defaultDisplayName="yes"
	                     name="true"
	                     value="true">
	               </choice>
	               <choice
	                     defaultDisplayName="no"
	                     name="false"
	                     value="false">
	               </choice>
	            </property>
	            <property
	                  allowsEmptyValueAsNull="true"
	                  canInherit="true"
	                  defaultDisplayName="%datasource.property.useRequestSession"
	                  defaultValue="false"
	                  isEncryptable="false"
	                  name="useRequestSession"
	                  type="choice">
	 	              <choice
		                     defaultDisplayName="yes"
		                     name="true"
		                     value="true">
		              </choice>
		              <choice
		                     defaultDisplayName="no"
		                     name="false"
		                     value="false">
		              </choice>
	            </property>
            </propertyGroup>
         </properties>
      </dataSource>
      <dataSet
            defaultDisplayName="%data.set.name"
            id="org.eclipse.birt.data.oda.mongodb.dataSet">
         <properties>
            <propertyGroup
                  name="org.eclipse.birt.data.oda.mongodb.dataSet.query">
               <property
                     allowsEmptyValueAsNull="true"
                     canInherit="true"
                     defaultDisplayName="%dataset.property.collectionName"
                     isEncryptable="false"
                     name="collectionName"
                     type="string">
               </property>
               <property
                     allowsEmptyValueAsNull="true"
                     canInherit="true"
                     defaultDisplayName="%dataset.property.operationType"
                     isEncryptable="false"
                     name="operationType"
                     type="string">
               </property>
               <property
                     allowsEmptyValueAsNull="true"
                     canInherit="true"
                     defaultDisplayName="%dataset.property.operationExpr"
                     isEncryptable="false"
                     name="operationExpr"
                     type="string">
               </property>
               <property
                     allowsEmptyValueAsNull="true"
                     canInherit="true"
                     defaultDisplayName="%dataset.property.selectedFields"
                     isEncryptable="false"
                     name="selectedFields"
                     type="string">
               </property>
               <property
                     allowsEmptyValueAsNull="true"
                     canInherit="true"
                     defaultDisplayName="%dataset.property.findQueryExpr"
                     isEncryptable="false"
                     name="findQueryExpr"
                     type="string">
               </property>
               <property
                     allowsEmptyValueAsNull="true"
                     canInherit="true"
                     defaultDisplayName="%dataset.property.sortExpr"
                     isEncryptable="false"
                     name="sortExpr"
                     type="string">
               </property>
            </propertyGroup>
            <propertyGroup
                  name="org.eclipse.birt.data.oda.mongodb.dataSet.options">
               <property
                     allowsEmptyValueAsNull="true"
                     canInherit="true"
                     defaultDisplayName="%dataset.property.batchSize"
                     isEncryptable="false"
                     name="batchSize"
                     type="string">
               </property>
               <property
                     allowsEmptyValueAsNull="true"
                     canInherit="true"
                     defaultDisplayName="%dataset.property.rtMDSearchLimit"
                     isEncryptable="false"
                     name="rtMDSearchLimit"
                     type="string">
               </property>
               <property
                     allowsEmptyValueAsNull="true"
                     canInherit="true"
                     defaultDisplayName="%dataset.property.numSkipDocuments"
                     isEncryptable="false"
                     name="numSkipDocuments"
                     type="string">
               </property>
               <property
                     allowsEmptyValueAsNull="true"
                     canInherit="true"
                     defaultDisplayName="%dataset.property.indexHints"
                     isEncryptable="false"
                     name="indexHints"
                     type="string">
               </property>
               <property
                     allowsEmptyValueAsNull="true"
                     canInherit="true"
                     defaultDisplayName="%dataset.property.queryReadPreference"
                     isEncryptable="false"
                     name="queryReadPreference"
                     type="choice">
                  <choice
                        defaultDisplayName="%dataset.property.value.readPrefPrimary"
                        name="readPreference.primary"
                        value="primary">
                  </choice>
                  <choice
                        defaultDisplayName="%dataset.property.value.readPrefPrimaryPreferred"
                        name="readPreference.primaryPreferred"
                        value="primaryPreferred">
                  </choice>
                  <choice
                        defaultDisplayName="%dataset.property.value.readPrefSecondary"
                        name="readPreference.secondary"
                        value="secondary">
                  </choice>
                  <choice
                        defaultDisplayName="%dataset.property.value.readPrefSecondaryPreferred"
                        name="readPreference.secondaryPreferred"
                        value="secondaryPreferred">
                  </choice>
                  <choice
                        defaultDisplayName="%dataset.property.value.readPrefNearest"
                        name="readPreference.nearest"
                        value="nearest">
                  </choice>
               </property>
               <property
                     allowsEmptyValueAsNull="true"
                     canInherit="true"
                     defaultDisplayName="%dataset.property.queryReadPreferenceTags"
                     isEncryptable="false"
                     name="queryReadPreferenceTags"
                     type="string">
               </property>
               <property
                     allowsEmptyValueAsNull="true"
                     canInherit="true"
                     defaultDisplayName="%dataset.property.noTimeOut"
                     isEncryptable="false"
                     name="noTimeOut"
                     type="choice">
                  <choice
                        defaultDisplayName="yes"
                        name="true"
                        value="true">
                  </choice>
                  <choice
                        defaultDisplayName="no"
                        name="false"
                        value="false">
                  </choice>
               </property>
               <property
                     allowsEmptyValueAsNull="true"
                     canInherit="true"
                     defaultDisplayName="%dataset.property.allowsPartialResults"
                     isEncryptable="false"
                     name="allowsPartialResults"
                     type="choice">
                  <choice
                        defaultDisplayName="yes"
                        name="true"
                        value="true">
                  </choice>
                  <choice
                        defaultDisplayName="no"
                        name="false"
                        value="false">
                  </choice>
               </property>
               <property
                     allowsEmptyValueAsNull="true"
                     canInherit="true"
                     defaultDisplayName="%dataset.property.flattenCollections"
                     isEncryptable="false"
                     name="flattenCollections"
                     type="choice">
	               	 <choice
	                     defaultDisplayName="yes"
	                     name="true"
	                     value="true">
	               	 </choice>
	               	 <choice
	                     defaultDisplayName="no"
	                     name="false"
	                     value="false">
	               	 </choice>
               </property>
            </propertyGroup>
         </properties>
         <dataTypeMapping
               nativeDataTypeCode="1"
               odaScalarDataType="Double"
               nativeDataType="Number">
            <alternativeOdaDataType
                  odaScalarDataType="Decimal">
            </alternativeOdaDataType>
            <alternativeOdaDataType
                  odaScalarDataType="Integer">
            </alternativeOdaDataType>
         </dataTypeMapping>
         <dataTypeMapping
               nativeDataTypeCode="2"
               odaScalarDataType="String"
               nativeDataType="String">
         </dataTypeMapping>
         <dataTypeMapping
               nativeDataTypeCode="3"
               odaScalarDataType="JavaObject"
               nativeDataType="Object">
         </dataTypeMapping>
         <dataTypeMapping
               nativeDataTypeCode="4"
               odaScalarDataType="JavaObject"
               nativeDataType="Array">
         </dataTypeMapping>
         <dataTypeMapping
               nativeDataTypeCode="5"
               odaScalarDataType="Blob"
               nativeDataType="Binary">
         </dataTypeMapping>
         <dataTypeMapping
               nativeDataTypeCode="7"
               odaScalarDataType="String"
               nativeDataType="Object Id">
         </dataTypeMapping>
         <dataTypeMapping
               nativeDataTypeCode="8"
               odaScalarDataType="Boolean"
               nativeDataType="Boolean">
         </dataTypeMapping>
         <dataTypeMapping
               nativeDataTypeCode="9"
               odaScalarDataType="Date"
               nativeDataType="Date">
         </dataTypeMapping>
         <dataTypeMapping
               nativeDataType="Null"
               nativeDataTypeCode="10"
               odaScalarDataType="String">
         </dataTypeMapping>
         <dataTypeMapping
               nativeDataTypeCode="11"
               odaScalarDataType="String"
               nativeDataType="Regular Expression">
         </dataTypeMapping>
         <dataTypeMapping
               nativeDataTypeCode="13"
               odaScalarDataType="String"
               nativeDataType="JavaScript">
         </dataTypeMapping>
         <dataTypeMapping
               nativeDataTypeCode="14"
               odaScalarDataType="String"
               nativeDataType="Symbol">
         </dataTypeMapping>
         <dataTypeMapping
               nativeDataTypeCode="15"
               odaScalarDataType="String"
               nativeDataType="JavaScript with scope">
         </dataTypeMapping>
         <dataTypeMapping
               nativeDataTypeCode="16"
               odaScalarDataType="Integer"
               nativeDataType="32-bit integer">
         </dataTypeMapping>
         <dataTypeMapping
               nativeDataTypeCode="17"
               odaScalarDataType="Timestamp"
               nativeDataType="Timestamp">
         </dataTypeMapping>
         <dataTypeMapping
               nativeDataTypeCode="18"
               odaScalarDataType="String"
               nativeDataType="64-bit integer">
            <alternativeOdaDataType
                  odaScalarDataType="Decimal">
            </alternativeOdaDataType>
         </dataTypeMapping>
         <dataTypeMapping
               nativeDataTypeCode="255"
               odaScalarDataType="String"
               nativeDataType="Min key">
         </dataTypeMapping>
         <dataTypeMapping
               nativeDataType="Max key"
               nativeDataTypeCode="127"
               odaScalarDataType="String">
         </dataTypeMapping>
      </dataSet>
   </extension>
   <extension
         point="org.eclipse.datatools.connectivity.connectionProfile">
      <category
            name="%data.source.name"
            parentCategory="org.eclipse.datatools.connectivity.oda.profileCategory"
            id="%oda.data.source.id">
      </category>
      <connectionProfile
            pingFactory="org.eclipse.datatools.connectivity.oda.profile.OdaConnectionFactory"
            name="%connection.profile.name"
            category="%oda.data.source.id"
            id="%oda.data.source.id">
      </connectionProfile>
      <connectionFactory
            name="ODA Connection Factory"
            profile="%oda.data.source.id"
            class="org.eclipse.datatools.connectivity.oda.profile.OdaConnectionFactory"
            id="org.eclipse.datatools.connectivity.oda.IConnection">
      </connectionFactory>
   </extension>


</plugin>
